<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="casey@caseykuhlman.com Casey Kuhlman"><meta name=description content="Using a shell in a terminal is fantastic &amp;ndash; like a glassbottom boat view into what your computer is actually doing. Here are some tips and a small tutorial of how I set up my terminal and shell to get you started."><meta name=keywords content="legaltech,resilience,authoritarianism,linux,shell"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://caseykuhlman.com/muniments/2014/2014-02-04-on-shells/><title>Why Using Shells are Great :: underWater desert Blogging â€” A Site About Resilience and Authoritarianism</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/main.min.84ed5579024525d4b50458514d1a43e40dd5272df45c7cd6da85b225af457154.css><meta itemprop=name content="Why Using Shells are Great"><meta itemprop=description content="Using a shell in a terminal is fantastic &ndash; like a glassbottom boat view into what your computer is actually doing. Here are some tips and a small tutorial of how I set up my terminal and shell to get you started."><meta itemprop=datePublished content="2014-02-04T00:00:00+00:00"><meta itemprop=dateModified content="2020-04-10T21:09:30+01:00"><meta itemprop=wordCount content="4070"><meta itemprop=image content="https://caseykuhlman.com/img/udp.jpg"><meta itemprop=keywords content="linux,shell,"><meta property="og:title" content="Why Using Shells are Great"><meta property="og:description" content="Using a shell in a terminal is fantastic &ndash; like a glassbottom boat view into what your computer is actually doing. Here are some tips and a small tutorial of how I set up my terminal and shell to get you started."><meta property="og:type" content="article"><meta property="og:url" content="https://caseykuhlman.com/muniments/2014/2014-02-04-on-shells/"><meta property="og:image" content="https://caseykuhlman.com/img/udp.jpg"><meta property="article:published_time" content="2014-02-04T00:00:00+00:00"><meta property="article:modified_time" content="2020-04-10T21:09:30+01:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://caseykuhlman.com/img/udp.jpg"><meta name=twitter:title content="Why Using Shells are Great"><meta name=twitter:description content="Using a shell in a terminal is fantastic &ndash; like a glassbottom boat view into what your computer is actually doing. Here are some tips and a small tutorial of how I set up my terminal and shell to get you started."><meta property="article:section" content="Linux for Lawyers"><meta property="article:published_time" content="2014-02-04 00:00:00 +0000 UTC"></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>cd ~/</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://caseykuhlman.com/posts>Entries</a></li><li><a href=https://caseykuhlman.com/about>Me, About</a></li><li><a href=https://caseykuhlman.com/muniments>Muniments</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41C32.4934 41 41 32.4934 41 22 41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://caseykuhlman.com/muniments/2014/2014-02-04-on-shells/>Why Using Shells are Great</a></h2><div class=post-content><p>I love using the shell; however so many people do not. My argument to others to use your shell more is simply that you <strong>see</strong> what is happening with your computer a lot easier than you can with a graphical user interface (GUI). Basically, your shell is somewhat like a glass bottom boat to see what your computer is actually doing. On linux, GUI's often have an option to pull up some of what your computer is doing, but for the most part they do not.</p><p>The other major argument for using your shell is that once you have it set up it is fast. Damn fast. I can do so much so quickly with my shell that takes me a lot longer with a GUI. This means that I spend last time on both billable and non-billable tasks &ndash; leaving more time to do other things.</p><h2 id=setting-up-a-drop-down-terminal-in-ubuntu>Setting up a Drop Down Terminal in Ubuntu</h2><p>Every POSIX system has a shell terminal application which you can use. But the first time you open it, it usually looks super scary &ndash; as in DOS scary. The best news is that once you get over that initial shock (perhaps by following this small tutorial) it can be a very pleasant experience. In Ubuntu you can get to your shell by typing <code>ctrl+alt+t</code> (for terminal). I don't like the main Gnome terminal application not because it is bad, indeed it is perfectly fine. I just prefer <a href=https://github.com/Guake/guake>Guake</a> because it is a terminal which stays hidden at the &ldquo;top&rdquo; of my screen completely out of sight. I start Guake on login, so it is <em>always</em> available. All I have to do is to press <code>F12</code> and I'm instantly in a terminal which drops down over my open program. I set Guake to take up about 45% of my screen real estate which allows me to see the rest of whatever application I need. There is a newer terminal application, <a href=https://github.com/ozcanesen/terra-terminal>Terra Terminal</a>, which performs similarly in some respects but adds additional features, such as terminal splitting which I never used. Terra is still in development so after using it for a while I switched back to Guake which is more stable.</p><p>Installing Guake could not be more simple. Drop into a terminal and type:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo apt-get install guake
</code></pre></div><p>Once the installation finishes, Guake will be in your applications. The next thing you will want to do is to add Guake to your startup applications. Open your applications and search for startup. When the GUI opens, click &ldquo;Add&rdquo; then in the &ldquo;Name&rdquo; field type Guake and in the &ldquo;Command&rdquo; field type <code>guake</code>. That's it. Next time you login Guake is ready for you. If you want to start guake without logging out and back in, go to your applications and search for guake and start guake terminal. Now you have your initial setup.</p><p>Guake and Gnome Terminal (what you get when you type <code>ctrl+alt+t</code>) both are simply terminals. They are like a portal to your shell program. Your shell program is distinct from you terminal program. You can use a terminal to run almost any shell program that you like. Shell programs live &ldquo;below&rdquo; your terminal in the stack between your eyeballs and your computer's processor. So with the same terminal, you can use different shells.</p><h2 id=shell-programs>Shell Programs</h2><p>Ubuntu's default shell (and indeed many the default shell for many POSIX systems) is <code>bash</code>. Bash is a good shell. Personally, I do not use it. I use <code>zsh</code> mainly because its community has a ton of plugins and installation scripts which I have used to automate the installation of my luxurious shell setup. There is a long history of (ahem) discourse between the supporters of the two shells and you can google to find it. Of course, POSIX being POSIX there are numerous other options such as fish shell and other newer competitors to bash and zsh. My recommendation is to use the shell that works for you and lets you do what you need to do in the most efficient way possible.</p><p>Ubuntu tries to keep its install wizards small so it does not install zsh by default (OSX on the other hand does I'm fairly sure), so if you want to follow the rest of this tutorial then you'll want to install zsh with the following command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo apt-get install zsh
</code></pre></div><p>When the shell is installed then you need to tell Ubuntu that this is the shell you are interested in installing. You do this with two commands. The first command finds where the zsh binary is and the second tells Ubuntu to change your shell. You copy the output from the first command (<code>ctrl+shift+c</code> when you're in terminal) and paste it into the second command (<code>ctrl+shift+v</code> when you're in terminal).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ which zsh
$ chsh -s $OUTPUT $USER
</code></pre></div><p>In the above command $OUTPUT is the output you get from the first command and $USER is your user name on ubuntu. After that you are all set. What I do generally at this point is to close the terminal window (in Guake this is <code>ctrl+shift+w</code> but that may be what I've set up to follow Chrome rather than the standard) and then open a new terminal window. Voila, you are all set up with zsh.</p><h2 id=making-your-shell-your-shell>Making Your Shell YOUR Shell</h2><p>Now we have all the basics setup with three simple commands in the terminal. You can easily put these into your install script to automate this process whenever you install or reinstall Linux on your machine. The next step is to make the shell YOUR shell by personalizing it.</p><p>The main file you will use to personalize the shell is your <code>~/.zshrc</code>. This is the file that zsh will automatically load by default everytime a new instance of zsh is opened. You can use this file in turn to tell zsh to load other files as we will see. The reason why I like zsh is that there are a lot of plugin which you can use to make the shell your own in a very simple way. A while ago a framework for zsh was developed called <a href=https://github.com/robbyrussell/oh-my-zsh>oh-my-zsh</a> which kicked off the frameworks in zsh in a big way. After a while this became complicated so another team developed a system which automated how this all works.</p><p>I use both of these systems. I use the automated install and updating system to install, remove, and update my zsh files and I use oh-my-zsh as the underlying framework (which I modify) to do much of the heavy lifting. If you want to follow along it will not be very painful I promise. The automatic installation and updater I use is called <a href=https://github.com/zsh-users/antigen>antigen</a>. Here is how you set it up.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo apt-get install git
$ git clone https://github.com/zsh-users/antigen.git $LOCATION
</code></pre></div><p>When you run the git clone command it will pull down antigen but you will want to put it in whatever location you like. I do not recommend putting it in <code>~/.antigen</code> because when you run the script it is going to put a bunch of other files in that location and this could cause conflicts. I put it in my <code>~/coding/antigen</code> folder for instance. Now, when that finished you need to edit your .zshrc file in your favorite text editor. Here's what my file looks like.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/usr/bin/env zsh
</span><span style=color:#75715e></span><span style=color:#75715e># Antigen bundles</span>
source ~/coding/antigen/antigen.zsh
antigen use oh-my-zsh
antigen bundles <span style=color:#e6db74>&lt;&lt;EOBUNDLES
</span><span style=color:#e6db74>bower
</span><span style=color:#e6db74>colorize
</span><span style=color:#e6db74>colored-man
</span><span style=color:#e6db74>cp
</span><span style=color:#e6db74>debian
</span><span style=color:#e6db74>extract
</span><span style=color:#e6db74>gem
</span><span style=color:#e6db74>github
</span><span style=color:#e6db74>heroku
</span><span style=color:#e6db74>npm
</span><span style=color:#e6db74>pip
</span><span style=color:#e6db74>rails
</span><span style=color:#e6db74>rsync
</span><span style=color:#e6db74>ruby
</span><span style=color:#e6db74>rvm
</span><span style=color:#e6db74>sublime
</span><span style=color:#e6db74>vundle
</span><span style=color:#e6db74>zsh-users/zsh-syntax-highlighting
</span><span style=color:#e6db74>zsh-users/zsh-completions src
</span><span style=color:#e6db74>EOBUNDLES</span>

<span style=color:#75715e>#Now load the theme</span>
antigen theme ~/Dropbox/Dot-Files/zsh-themes/csk-compact.zsh-theme
antigen apply

<span style=color:#75715e>#Now load the custom files</span>
source ~/Dropbox/Dot-Files/zsh-plugins/conf.zsh
source ~/Dropbox/Dot-Files/zsh-plugins/git-csk.plugin.zsh
source ~/Dropbox/Dot-Files/zsh-plugins/funcs.zsh
source ~/Dropbox/Dot-Files/zsh-plugins/aliases.zsh
</code></pre></div><p>You can read more about how to use antigen bundles on their github page linked to above, but I'll walk through it. The first thing that the file does is it <code>sources</code> (which in shell means load and use) the main antigen shell script. So point this to wherever you cloned their repo to. The next line tells antigen to use the oh-my-zsh framework (there are others which you could use and the github page shows how to do that). Then there is a long list of the bundles that I want to use. Bundles are simply plugins. At the end you will see a couple of non oh-my-zsh bundles sourced. Antigen knows that when you put a bundle that looks like <code>user/plugin</code> to get it from the github repo. Of course, you can not use the github defaults and you can easily point it to other bundles that you may have on a private git repo.</p><p>After the bundles are loaded then the file tells antigen to use a specific theme. The last thing the file does is to tell zsh to load a bunch of custom files which I keep in my dropbox. That's it. The way that zsh works is that when you pass it one command and then pass it a second command that conflicts with the first then the second one always wins. This is why I source my own custom files after the framework files. This allows me to override small things that the framework does which I do not like.</p><p>You can look on oh-my-zsh page for a lot of different themes. Here's the theme I use.</p><p>My theme tells me my username, hostname, current working directory and then tells me which rvm I'm using and how my git repo is looking (the git repo turns red if it is &lsquo;dirty&rsquo; or green if it is not as you can see from the different repos). If you wanted to use my theme then here is the file:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ZSH_THEME_GIT_PROMPT_PREFIX<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%{</span>$reset_color<span style=color:#e6db74>%}[%{</span>$fg<span style=color:#e6db74>[magenta]%}</span><span style=color:#e6db74>&#34;</span>
ZSH_THEME_GIT_PROMPT_SUFFIX<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%{</span>$reset_color<span style=color:#e6db74>%}]</span><span style=color:#e6db74>&#34;</span>
ZSH_THEME_GIT_PROMPT_DIRTY<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%{</span>$fg<span style=color:#e6db74>[red]%}â˜¿â˜¿â˜¿</span><span style=color:#e6db74>&#34;</span>
ZSH_THEME_GIT_PROMPT_CLEAN<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%{</span>$fg<span style=color:#e6db74>[green]%}â˜¿â˜¿â˜¿</span><span style=color:#e6db74>&#34;</span>

local whoami<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%{</span>$fg<span style=color:#e6db74>[magenta]%}%n%{</span>$reset_color<span style=color:#e6db74>%}@%{</span>$fg<span style=color:#e6db74>[green]%}%m%{</span>$reset_color<span style=color:#e6db74>%}</span><span style=color:#e6db74>&#34;</span>
local whereami<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>:%{</span>$fg_bold<span style=color:#e6db74>[blue]%}%~%{</span>$reset_color<span style=color:#e6db74>%}</span><span style=color:#e6db74>&#34;</span>
local git_branch<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;\$(git_prompt_info)&#34;</span>
local rvm_ruby<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>[%{</span>$reset_color<span style=color:#e6db74>%}%{</span>$fg<span style=color:#e6db74>[cyan]%}\$(~/.rvm/bin/rvm-prompt v g)%{</span>$reset_color<span style=color:#e6db74>%}]</span><span style=color:#e6db74>&#34;</span>

PROMPT<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>whoami<span style=color:#e6db74>}</span><span style=color:#e6db74>${</span>whereami<span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>${</span>rvm_ruby<span style=color:#e6db74>}</span><span style=color:#e6db74>${</span>git_branch<span style=color:#e6db74>}</span><span style=color:#e6db74> &gt;&gt; </span><span style=color:#e6db74>&#34;</span>
RPROMPT<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;%{$fg[yellow]%}[%*]%{$reset_color%}&#39;</span>
</code></pre></div><p>On my servers I do not typically install Ruby Version Manager (rvm) and the result is that this theme will throw an error which is annoying, so on my servers I use a very slightly modified theme which I would recommend if you do not use ruby a lot. One thing to note is that the colors in the server theme are bolded (this makes it easy for me to remember that I am probably ssh'ing into a server in a specific terminal and not on my computer if you did not want the bold them simply delete &lsquo;_bold&rsquo;).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ZSH_THEME_GIT_PROMPT_PREFIX<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%{</span>$reset_color<span style=color:#e6db74>%}[%{</span>$fg<span style=color:#e6db74>[magenta]%}</span><span style=color:#e6db74>&#34;</span>
ZSH_THEME_GIT_PROMPT_SUFFIX<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%{</span>$reset_color<span style=color:#e6db74>%}]</span><span style=color:#e6db74>&#34;</span>
ZSH_THEME_GIT_PROMPT_DIRTY<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%{</span>$fg<span style=color:#e6db74>[red]%}â˜¿â˜¿â˜¿</span><span style=color:#e6db74>&#34;</span>
ZSH_THEME_GIT_PROMPT_CLEAN<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%{</span>$fg<span style=color:#e6db74>[green]%}â˜¿â˜¿â˜¿</span><span style=color:#e6db74>&#34;</span>

local whoami<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%{</span>$fg_bold<span style=color:#e6db74>[green]%}%n%{</span>$reset_color<span style=color:#e6db74>%}@%{</span>$fg_bold<span style=color:#e6db74>[magenta]%}%m%{</span>$reset_color<span style=color:#e6db74>%}</span><span style=color:#e6db74>&#34;</span>
local whereami<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>:%{</span>$fg_bold<span style=color:#e6db74>[cyan]%}%~%{</span>$reset_color<span style=color:#e6db74>%}</span><span style=color:#e6db74>&#34;</span>
local git_branch<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;\$(git_prompt_info)&#34;</span>

PROMPT<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>whoami<span style=color:#e6db74>}</span><span style=color:#e6db74>${</span>whereami<span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>${</span>git_branch<span style=color:#e6db74>}</span><span style=color:#e6db74> &gt;&gt; </span><span style=color:#e6db74>&#34;</span>
RPROMPT<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;%{$fg[yellow]%}[%*]%{$reset_color%}&#39;</span>
</code></pre></div><p>The next custom file my <code>.zshrc</code> file sources is my configuration file. This is full of a bunch of defaults I've found by stalking people's dot file repos on github. To be honest there is a lot of things in this file that I do not know what they do but solve specific problems for me. I recommend using one you find from repos and then googling as different problems arise and adding or deleting the specific parts of the config file to make it yours. That is more or less what I have done over the previous few years.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Key bindings</span>
bindkey -M viins <span style=color:#e6db74>&#39;^[OH&#39;</span> vi-beginning-of-line  <span style=color:#75715e># home key</span>
bindkey -M viins <span style=color:#e6db74>&#39;^[OF&#39;</span> vi-end-of-line        <span style=color:#75715e># end key</span>
bindkey -M viins <span style=color:#e6db74>&#39;\e[3~&#39;</span> vi-delete-char       <span style=color:#75715e># use delete as forward delete</span>
bindkey -M viins <span style=color:#e6db74>&#39;^B&#39;</span> push-line-or-edit       <span style=color:#75715e># line buffer</span>
bindkey <span style=color:#e6db74>&#39;^[^[[C&#39;</span> forward-word
bindkey <span style=color:#e6db74>&#39;^[^[[D&#39;</span> backward-word

<span style=color:#75715e># Shut up.</span>
setopt NO_BEEP
setopt nullglob

<span style=color:#75715e># Changing Directories</span>
setopt AUTO_CD
setopt CDABLE_VARS
setopt AUTO_PUSHD

<span style=color:#75715e># History</span>
setopt HIST_SAVE_NO_DUPS
setopt HIST_VERIFY
setopt HIST_IGNORE_ALL_DUPS
setopt EXTENDED_HISTORY
setopt HIST_REDUCE_BLANKS
bindkey <span style=color:#e6db74>&#34;^R&#34;</span> history-incremental-pattern-search-backward
bindkey <span style=color:#e6db74>&#34;^S&#34;</span> history-incremental-pattern-search-forward

<span style=color:#75715e># Resume vim after ctrl+z accidentally (or intentionally!) from vim</span>
<span style=color:#75715e># just ctrl+z again to resume</span>
foreground-vi<span style=color:#f92672>(</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
  fg %vi
<span style=color:#f92672>}</span>
zle -N foreground-vi
bindkey <span style=color:#e6db74>&#39;^Z&#39;</span> foreground-vi

<span style=color:#75715e>#apt-pref</span>
apt_pref<span style=color:#f92672>=</span>apt-get
</code></pre></div><p>The next file sourced is a custom git alias file which I use. It is not terribly interesting but it makes things easier for me to remember because the oh-my-zsh git bundle kept changing for a while and I think of things slightly differently than they do so I just override a lot of their defaults which is fine.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Aliases</span>
alias git<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;hub&#39;</span>
alias g<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git&#39;</span>
compdef g<span style=color:#f92672>=</span>git
alias ga<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git add&#39;</span>
compdef _git ga<span style=color:#f92672>=</span>git-add
alias gaa<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git add -A&#39;</span>
compdef _git gaa<span style=color:#f92672>=</span>git-add
alias gai<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git add -i&#39;</span>
compdef _git gai<span style=color:#f92672>=</span>git-add
alias gb<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git branch&#39;</span>
compdef _git gb<span style=color:#f92672>=</span>git-branch
alias gba<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git branch -a&#39;</span>
compdef _git gba<span style=color:#f92672>=</span>git-branch
alias gbav<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git branch -a -vv&#39;</span>
compdef _git gbav<span style=color:#f92672>=</span>git-branch
alias gc<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git commit -v&#39;</span>
compdef _git gc<span style=color:#f92672>=</span>git-commit
alias gca<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git commit -v -a&#39;</span>
compdef _git gca<span style=color:#f92672>=</span>git-commit
alias gc!<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git commit -v --amend&#39;</span>
compdef _git gc!<span style=color:#f92672>=</span>git-commit
alias gcm<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git commit -m&#39;</span>
compdef _git gcam<span style=color:#f92672>=</span>git-commit
alias gco<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git checkout&#39;</span>
compdef _git gco<span style=color:#f92672>=</span>git-checkout
alias gcob<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git checkout -b&#39;</span>
compdef _git gcob<span style=color:#f92672>=</span>git-checkout
alias gcom<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git checkout master&#39;</span>
compdef _git gcom<span style=color:#f92672>=</span>git-checkout
alias gd<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git diff&#39;</span>
compdef _git gd<span style=color:#f92672>=</span>git-diff
alias gds<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git diff --cached&#39;</span>
compdef _git gds<span style=color:#f92672>=</span>git-diff
alias gdh<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git diff HEAD&#39;</span>
compdef _git gdh<span style=color:#f92672>=</span>git-diff
alias gdelcom<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git reset --hard HEAD~&#39;</span>
alias gl<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;git log --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%an %cr)%Creset&#39; --abbrev-commit --date=relative&#34;</span>
alias glp<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gl -p&#39;</span>
alias gl1<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gl --pretty=oneline --abbrev-commit --decorate&#39;</span>
alias glg<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git log --stat --max-count=5&#39;</span>
alias glt<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gl | tig&#39;</span>
alias glu<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git ls-files --other --exclude-standard&#39;</span>
alias glud<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git ls-files --other --exclude-standard | xargs rm&#39;</span>
alias glua<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git ls-files --other --exclude-standard | xargs git add&#39;</span>
alias grma<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git ls-files --deleted | xargs git rm&#39;</span>
alias gcount<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git shortlog -sn&#39;</span>
alias gm<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git merge&#39;</span>
compdef _git gm<span style=color:#f92672>=</span>git-merge
alias gpl<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git pull --rebase&#39;</span>
compdef _git gpl<span style=color:#f92672>=</span>git-pull
alias gup<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git fetch &amp;&amp; git rebase&#39;</span>
compdef _git gup<span style=color:#f92672>=</span>git-fetch
alias gps<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git push&#39;</span>
compdef _git gps<span style=color:#f92672>=</span>git-push
alias gr<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git remote&#39;</span>
compdef _git gr<span style=color:#f92672>=</span>git-remote
alias grv<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git remote -v&#39;</span>
compdef _git grv<span style=color:#f92672>=</span>git-remote
alias grall<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git remote -v show -n&#39;</span>
compdef _git grall<span style=color:#f92672>=</span>git-remote
alias grset<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git remote set-url&#39;</span>
compdef _git grset<span style=color:#f92672>=</span>git-remote
alias grb<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git rebase&#39;</span>
compdef _git grb<span style=color:#f92672>=</span>git-rebase
alias grba<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git rebase --abort&#39;</span>
compdef _git grba<span style=color:#f92672>=</span>git-rebase
alias grbc<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git rebase --continue&#39;</span>
compdef _git grbc<span style=color:#f92672>=</span>git-rebase
alias grm<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;git status | grep deleted | awk &#39;{\$1=\$2=\&#34;\&#34;; print \$0}&#39; | \
</span><span style=color:#e6db74>           perl -pe &#39;s/^[ \t]*//&#39; | sed &#39;s/ /\\\\ /g&#39; | xargs git rm&#34;</span>
alias grmd<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;git status | grep deleted | awk &#39;{\$1=\$2=\&#34;\&#34;; print \$0}&#39; | \
</span><span style=color:#e6db74>           perl -pe &#39;s/^[ \t]*//&#39; | sed &#39;s/ /\\\\ /g&#39; | xargs git rm -rf&#34;</span>
alias gs<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git status&#39;</span>
compdef _git gs<span style=color:#f92672>=</span>git-status
alias gss<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git status -s&#39;</span>
compdef _git gss<span style=color:#f92672>=</span>git-status
alias gst<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git stash&#39;</span>
alias gsta<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gst apply&#39;</span>
alias gundo<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git reset --soft HEAD^&#39;</span>
alias gundoh<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git reset HEAD&#39;</span>
alias gundohh<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git reset HEAD --hard&#39;</span>
alias gwtfl<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git wtf -l -a -A -r&#39;</span>
alias tigb<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;tig blame&#39;</span>
alias tigs<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;tig status&#39;</span>

<span style=color:#75715e># Will return the current branch name</span>
<span style=color:#75715e># Usage example: git pull origin $(current_branch)</span>
<span style=color:#66d9ef>function</span> current_branch<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  ref<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>git symbolic-ref HEAD 2&gt; /dev/null<span style=color:#66d9ef>)</span> <span style=color:#f92672>||</span> <span style=color:#66d9ef>return</span>
  echo <span style=color:#e6db74>${</span>ref#refs/heads/<span style=color:#e6db74>}</span>
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>function</span> current_repository<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  ref<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>git symbolic-ref HEAD 2&gt; /dev/null<span style=color:#66d9ef>)</span> <span style=color:#f92672>||</span> <span style=color:#66d9ef>return</span>
  echo <span style=color:#66d9ef>$(</span>git remote -v | cut -d<span style=color:#e6db74>&#39;:&#39;</span> -f 2<span style=color:#66d9ef>)</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e># these aliases take advantage of the previous function</span>
alias push<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git push github $(current_branch) &amp;&amp; git push wsl $(current_branch)&#39;</span>
alias pushpriv<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git push wsl $(current_branch)&#39;</span>
alias pushprod<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git push gandi master&#39;</span>
alias pushroku<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git push heroku master&#39;</span>

<span style=color:#66d9ef>function</span> gtb<span style=color:#f92672>(</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
  git checkout -b $1 --track $2/$1
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>function</span> gtrack<span style=color:#f92672>(</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
  branch<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>git rev-parse --abbrev-ref HEAD<span style=color:#66d9ef>)</span>
  git branch -u $1/$branch $branch
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>function</span> gnuke<span style=color:#f92672>(</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
  <span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> ! -d .git <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
    echo <span style=color:#e6db74>&#34;Error: must run this script from the root of a git repository&#34;</span>
    exit <span style=color:#ae81ff>1</span>
  <span style=color:#66d9ef>fi</span>

  <span style=color:#75715e># remove all paths passed as arguments from the history of the repo</span>
  files<span style=color:#f92672>=</span>$@
  git filter-branch --index-filter <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>git rm -rf --cached --ignore-unmatch </span>$files<span style=color:#e6db74>&#34;</span> HEAD

  <span style=color:#75715e># remove the temporary history git-filter-branch otherwise leaves behind for a long time</span>
  rm -rf .git/refs/original/ <span style=color:#f92672>&amp;&amp;</span> git reflog expire --all <span style=color:#f92672>&amp;&amp;</span>  git gc --aggressive --prune
<span style=color:#f92672>}</span>
</code></pre></div><p>That file I've assembled over the years and to be honest I use maybe 60% of the aliases and functions in it, but the good thing is that when I'm trying to remember how to do something I just pull up that file and it is likely in there. It is probably overkill but it can be useful from time to time.</p><p>Next I source my custom functions files. This is a fun one that allows me to do a bit of coding in zsh and put these into my shell for easy use in the future. I use a lot fo these functions quite frequently.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>## Process/System functions</span>
<span style=color:#75715e>##</span>
<span style=color:#75715e>#helper for pp</span>
<span style=color:#66d9ef>function</span> my_ps<span style=color:#f92672>(</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span> ps $@ -u $USER -o pid,%cpu,%mem,bsdtime,command ; <span style=color:#f92672>}</span>

<span style=color:#75715e>#do i own this process?</span>
<span style=color:#66d9ef>function</span> pp<span style=color:#f92672>(</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span> my_ps f | awk <span style=color:#e6db74>&#39;!/awk/ &amp;&amp; $0~var&#39;</span> var<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>1<span style=color:#66d9ef>:-</span><span style=color:#e6db74>&#34;.*&#34;</span><span style=color:#e6db74>}</span> ; <span style=color:#f92672>}</span>

<span style=color:#75715e>#install packages and log</span>
<span style=color:#66d9ef>function</span> install<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  packages<span style=color:#f92672>=</span>$@
  sudo apt-get install <span style=color:#e6db74>${</span>=packages<span style=color:#e6db74>}</span> <span style=color:#f92672>&amp;&amp;</span> echo <span style=color:#e6db74>&#34;</span>$packages<span style=color:#e6db74>&#34;</span> &gt;&gt; ~/.installd
<span style=color:#f92672>}</span>
apt_pref_compdef install  <span style=color:#e6db74>&#34;install&#34;</span>
<span style=color:#66d9ef>function</span> add-repo<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  repos<span style=color:#f92672>=</span>$@
  sudo add-apt-repository -y ppa:<span style=color:#e6db74>${</span>=repos<span style=color:#e6db74>}</span> <span style=color:#f92672>&amp;&amp;</span> echo <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>sudo add-apt-repository -y ppa:</span>$repos<span style=color:#e6db74>&#34;</span> &gt;&gt; ~/.installd
  sudo apt-get update
<span style=color:#f92672>}</span>

<span style=color:#75715e>#colorize man output ... http://www.cyberciti.biz/faq/linux-unix-colored-man-pages-with-less-command/</span>
man<span style=color:#f92672>(</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
  env <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    LESS_TERMCAP_mb<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>printf <span style=color:#e6db74>&#34;\e[1;31m&#34;</span><span style=color:#66d9ef>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    LESS_TERMCAP_md<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>printf <span style=color:#e6db74>&#34;\e[1;31m&#34;</span><span style=color:#66d9ef>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    LESS_TERMCAP_me<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>printf <span style=color:#e6db74>&#34;\e[0m&#34;</span><span style=color:#66d9ef>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    LESS_TERMCAP_se<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>printf <span style=color:#e6db74>&#34;\e[0m&#34;</span><span style=color:#66d9ef>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    LESS_TERMCAP_so<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>printf <span style=color:#e6db74>&#34;\e[1;44;33m&#34;</span><span style=color:#66d9ef>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    LESS_TERMCAP_ue<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>printf <span style=color:#e6db74>&#34;\e[0m&#34;</span><span style=color:#66d9ef>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    LESS_TERMCAP_us<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>printf <span style=color:#e6db74>&#34;\e[1;32m&#34;</span><span style=color:#66d9ef>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>      man <span style=color:#e6db74>&#34;</span>$@<span style=color:#e6db74>&#34;</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>## Networking functions</span>
<span style=color:#75715e>##</span>
<span style=color:#75715e>#get my ip</span>
<span style=color:#66d9ef>function</span> myip-local<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  IP<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>ifconfig  | grep <span style=color:#e6db74>&#39;inet addr:&#39;</span>| grep -v <span style=color:#e6db74>&#39;127.0.0.1&#39;</span> | cut -d: -f2 | awk <span style=color:#e6db74>&#39;{ print $1}&#39;</span><span style=color:#e6db74>`</span>;
  echo $IP
<span style=color:#f92672>}</span>
<span style=color:#66d9ef>function</span> myip-global<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  dig +short myip.opendns.com @resolver1.opendns.com
<span style=color:#f92672>}</span>
<span style=color:#66d9ef>function</span> myips<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  echo -e <span style=color:#e6db74>&#34;\nMy Local IPs:\n\033[1;32m`myip-local`\033[m&#34;</span>
  echo -e <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\nMy External IPs:\n\033[1;32m`myip-global`</span><span style=color:#e6db74>${</span>NC<span style=color:#e6db74>}</span><span style=color:#e6db74>\033[m\n</span><span style=color:#e6db74>&#34;</span>
<span style=color:#f92672>}</span>
<span style=color:#66d9ef>function</span> funsa<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  sudo ifconfig eth0 down
  sudo macchanger -r eth0
  sudo ifconfig eth0 up
  sudo ifconfig wlan0 down
  sudo macchanger -r wlan0
  sudo ifconfig wlan0 up
  google-chrome <span style=color:#e6db74>&#34;file:///home/coda/Dropbox/Chrome-Extensions/Source%20Codes/funsa.html&#34;</span>
  sudo service network-manager restart
<span style=color:#f92672>}</span>

<span style=color:#75715e>#summarize current network situation</span>
<span style=color:#66d9ef>function</span> ii<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  echo -e <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\nYou are logged on </span><span style=color:#e6db74>${</span>BLUE<span style=color:#e6db74>}</span>$HOSTNAME<span style=color:#e6db74>${</span>NC<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
  echo -e <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\nAdditionnal information:</span>$NC<span style=color:#e6db74> </span><span style=color:#e6db74>&#34;</span> ; uname -a
  echo -e <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span>RED<span style=color:#e6db74>}</span><span style=color:#e6db74>Users logged on:</span>$NC<span style=color:#e6db74> </span><span style=color:#e6db74>&#34;</span> ; w -h
  echo -e <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span>RED<span style=color:#e6db74>}</span><span style=color:#e6db74>Current date :</span>$NC<span style=color:#e6db74> </span><span style=color:#e6db74>&#34;</span> ; date
  echo -e <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span>RED<span style=color:#e6db74>}</span><span style=color:#e6db74>Machine stats :</span>$NC<span style=color:#e6db74> </span><span style=color:#e6db74>&#34;</span> ; uptime
  echo -e <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span>RED<span style=color:#e6db74>}</span><span style=color:#e6db74>Memory stats :</span>$NC<span style=color:#e6db74> </span><span style=color:#e6db74>&#34;</span> ; free
  myip &gt; /dev/null 2&gt;&amp;<span style=color:#ae81ff>1</span>
  echo -e <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span>RED<span style=color:#e6db74>}</span><span style=color:#e6db74>Local IP Address :</span>$NC<span style=color:#e6db74>&#34;</span> ; echo <span style=color:#e6db74>${</span>IP<span style=color:#66d9ef>:-</span><span style=color:#e6db74>&#34;Not connected&#34;</span><span style=color:#e6db74>}</span>
  echo
<span style=color:#f92672>}</span>

<span style=color:#75715e>## Files and Directories</span>
<span style=color:#75715e>##</span>
<span style=color:#75715e>#special file create</span>
<span style=color:#66d9ef>function</span> touch <span style=color:#f92672>{</span>
  dir<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>expr <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> : <span style=color:#e6db74>&#39;\(.*\/\)&#39;</span><span style=color:#e6db74>`</span>
  <span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $dir <span style=color:#f92672>]</span>
    <span style=color:#66d9ef>then</span>
    mkdir -p $dir
  <span style=color:#66d9ef>fi</span>
/usr/bin/touch $1
<span style=color:#f92672>}</span>

<span style=color:#75715e>#home folder</span>
<span style=color:#66d9ef>function</span> h
<span style=color:#f92672>{</span>
  cd ~/$1;
<span style=color:#f92672>}</span>

<span style=color:#75715e>#find a file with the string in the name</span>
<span style=color:#66d9ef>function</span> ff<span style=color:#f92672>(</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span> find . -name <span style=color:#e6db74>&#39;*&#39;</span>$1<span style=color:#e6db74>&#39;*&#39;</span> ; <span style=color:#f92672>}</span>

<span style=color:#75715e>#find a file with the string in the name and exec $2 on it</span>
<span style=color:#66d9ef>function</span> fe<span style=color:#f92672>(</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span> find . -name <span style=color:#e6db74>&#39;*&#39;</span>$1<span style=color:#e6db74>&#39;*&#39;</span> -exec $2 <span style=color:#f92672>{</span><span style=color:#f92672>}</span> <span style=color:#ae81ff>\;</span> ; <span style=color:#f92672>}</span>

<span style=color:#75715e>#find a file ending in $2 and search for string $1 in it</span>
<span style=color:#66d9ef>function</span> fstr<span style=color:#f92672>(</span><span style=color:#f92672>)</span> <span style=color:#75715e># find a string in a set of files</span>
<span style=color:#f92672>{</span>
  <span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $# -ne <span style=color:#ae81ff>2</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
    echo <span style=color:#e6db74>&#34;Usage: fstr \&#34;pattern\&#34; [files] &#34;</span>
    <span style=color:#66d9ef>return</span>;
  <span style=color:#66d9ef>fi</span>
  SMSO<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>tput smso<span style=color:#66d9ef>)</span>
  RMSO<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>tput rmso<span style=color:#66d9ef>)</span>
  find . -type f -name <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>*</span><span style=color:#e6db74>${</span>2<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> -print | xargs grep -sin <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> | <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  sed <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>s/</span>$1<span style=color:#e6db74>/</span>$SMSO$1$RMSO<span style=color:#e6db74>/gI</span><span style=color:#e6db74>&#34;</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>#remove spaces from filename</span>
<span style=color:#66d9ef>function</span> nospace<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
    mv <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>`echo </span>$1<span style=color:#e6db74> | tr &#39; &#39; &#39;_&#39;`</span><span style=color:#e6db74>&#34;</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>#filenames to lowercase</span>
<span style=color:#66d9ef>function</span> lowercase<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  <span style=color:#66d9ef>for</span> file ; <span style=color:#66d9ef>do</span>
    filename<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>file##*/<span style=color:#e6db74>}</span>
    <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;</span>$filename<span style=color:#e6db74>&#34;</span> in
      */*<span style=color:#f92672>)</span> dirname<span style=color:#f92672>=</span><span style=color:#f92672>=</span><span style=color:#e6db74>${</span>file%/*<span style=color:#e6db74>}</span> ;;
      *<span style=color:#f92672>)</span> dirname<span style=color:#f92672>=</span>.;;
    <span style=color:#66d9ef>esac</span>
    nf<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>echo $filename | tr A-Z a-z<span style=color:#66d9ef>)</span>
    newname<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>dirname<span style=color:#e6db74>}</span><span style=color:#e6db74>/</span><span style=color:#e6db74>${</span>nf<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
    <span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;</span>$nf<span style=color:#e6db74>&#34;</span> !<span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;</span>$filename<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
      mv <span style=color:#e6db74>&#34;</span>$file<span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span>$newname<span style=color:#e6db74>&#34;</span>
    <span style=color:#66d9ef>else</span>
      echo <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>lowercase: </span>$file<span style=color:#e6db74> not changed.</span><span style=color:#e6db74>&#34;</span>
    <span style=color:#66d9ef>fi</span>
  <span style=color:#66d9ef>done</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>## Get the commands and aliases</span>
<span style=color:#75715e>##</span>
<span style=color:#75715e>#list all the aliases</span>
<span style=color:#66d9ef>function</span> list_aliases
<span style=color:#f92672>{</span>
    ALIASES<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>alias | cut -d <span style=color:#e6db74>&#39;=&#39;</span> -f 1<span style=color:#e6db74>`</span>
    echo <span style=color:#e6db74>&#34;</span>$ALIASES<span style=color:#e6db74>&#34;</span> | sort -u
<span style=color:#f92672>}</span>

<span style=color:#75715e>#list all the commands</span>
<span style=color:#66d9ef>function</span> list_commands
<span style=color:#f92672>{</span>
    COMMANDS<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>echo -n $PATH | xargs -d : -I <span style=color:#f92672>{</span><span style=color:#f92672>}</span> find <span style=color:#f92672>{</span><span style=color:#f92672>}</span> -maxdepth <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>        -executable -type f -printf <span style=color:#e6db74>&#39;%P\n&#39;</span><span style=color:#e6db74>`</span>
    echo <span style=color:#e6db74>&#34;</span>$COMMANDS<span style=color:#e6db74>&#34;</span> | sort -u
<span style=color:#f92672>}</span>

<span style=color:#75715e>#find an alias</span>
<span style=color:#66d9ef>function</span> lag
<span style=color:#f92672>{</span>
  <span style=color:#66d9ef>for</span> a in <span style=color:#66d9ef>$(</span>list_aliases | grep $1<span style=color:#66d9ef>)</span>; <span style=color:#66d9ef>do</span> which $a; <span style=color:#66d9ef>done</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>#find a command</span>
<span style=color:#66d9ef>function</span> lcg
<span style=color:#f92672>{</span>
  <span style=color:#66d9ef>for</span> c in <span style=color:#66d9ef>$(</span>list_commands | grep $1<span style=color:#66d9ef>)</span>; <span style=color:#66d9ef>do</span> which $c; <span style=color:#66d9ef>done</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>## Git &amp; Deployment</span>
<span style=color:#75715e>##</span>
<span style=color:#75715e>#ship the current branch</span>
<span style=color:#66d9ef>function</span> ship<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  CURRENT<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>git branch | grep <span style=color:#e6db74>&#39;\*&#39;</span> | awk <span style=color:#e6db74>&#39;{print $2}&#39;</span><span style=color:#e6db74>`</span>
  git checkout master
  git merge <span style=color:#e6db74>${</span>CURRENT<span style=color:#e6db74>}</span>
  git push github master
  git push wsl master
  git checkout <span style=color:#e6db74>${</span>CURRENT<span style=color:#e6db74>}</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>## Application Specific</span>
<span style=color:#75715e>##</span>
<span style=color:#75715e>#use hub browser to get at the github and shut chrome up</span>
<span style=color:#66d9ef>function</span> gbrow<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  git browse $@ &amp;&gt;/dev/null;
<span style=color:#f92672>}</span>

<span style=color:#75715e>#cabal updater</span>
<span style=color:#66d9ef>function</span> cabal-upgrade<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  cabal update;
  cabal list --simple-output --installed | awk <span style=color:#e6db74>&#39;{print $1}&#39;</span> | uniq | xargs -I <span style=color:#f92672>{</span><span style=color:#f92672>}</span> cabal install <span style=color:#f92672>{</span><span style=color:#f92672>}</span>;
<span style=color:#f92672>}</span>
<span style=color:#75715e>#npm global installer</span>
<span style=color:#66d9ef>function</span> npmig<span style=color:#f92672>(</span><span style=color:#f92672>)</span>
<span style=color:#f92672>{</span>
  packages<span style=color:#f92672>=</span>$@
  sudo npm install -g <span style=color:#e6db74>${</span>=packages<span style=color:#e6db74>}</span> <span style=color:#f92672>&amp;&amp;</span> echo <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>npm </span>$packages<span style=color:#e6db74>&#34;</span> &gt;&gt; ~/.installd
<span style=color:#f92672>}</span>
</code></pre></div><p>Some highlights of this file include an installation script which allows me to both install a package from apt-get and also to lot that in my install script so that I can then remember to reinstall it on a new system. I also have a collateral package for installing new ppas on my computer. I have built a bunch of network functions that I use every once in a while to figure out what the heck is happening. I also have built a f-u-nsa script which I run when I get to a new country. By changing my mac address and clearing all my cookies I think I can slightly reduce my chances of being flagged within NSA's systems &ndash; this is important when you run a law firm and spend lots of time in the Horn of Africa. Also I have some functions that make working with files and modifying files easier as well as a few specific functions for assisting with different programs like npm (node package manager and cabal which is haskell's package manager and I use to keep on the bleeding edge of pandoc).</p><p>Lastly my <code>.zshrc</code> file sources my aliases which are below and not terribly interesting.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/usr/bin/env zsh
</span><span style=color:#75715e></span><span style=color:#75715e># zsh aliases</span>
<span style=color:#75715e># included by .zshrc, this is for my custom aliases</span>

<span style=color:#75715e># allow aliases to be sudoed</span>
alias sudo<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;nocorrect sudo&#39;</span>

<span style=color:#75715e># Set Colors in Terms &amp; Dumb Terms</span>
eval <span style=color:#66d9ef>$(</span>dircolors<span style=color:#66d9ef>)</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;</span>$TERM<span style=color:#e6db74>&#34;</span> !<span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;dumb&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
  eval <span style=color:#e6db74>&#34;`dircolors -b`&#34;</span>
  alias ls<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;ls --color=always&#39;</span>
<span style=color:#66d9ef>fi</span>

<span style=color:#75715e># Directory &amp; File Management</span>
alias ll<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;ls -l&#39;</span>
alias la<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;ls -A&#39;</span>
alias l<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;ls -G&#39;</span>
alias lla<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;ls -la&#39;</span>
alias cat<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;colorize&#39;</span>
alias grep<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;grep --color&#39;</span>
alias grepi<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;grep --color -i&#39;</span>
alias mkdir<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;mkdir -p&#39;</span>
alias less<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;less --raw-control-chars&#39;</span>

<span style=color:#75715e># EDiTor &amp; Clipboard stuff</span>
alias e<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;vim&#39;</span>
alias se<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;sudo vim&#39;</span>
alias pbcopy<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;xclip -selection clipboard&#39;</span>
alias pbpaste<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;xclip -selection clipboard -o&#39;</span>

<span style=color:#75715e># show sorted directory sizes for all directories</span>
alias duh<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;du -s ~/* | cut -f1 | spark &amp;&amp; du -sch ~/*&#39;</span>
alias duhere<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;du -s ./* | cut -f1 | spark &amp;&amp; du -sch ./*&#39;</span>
alias dua<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;du --max-depth=1 ~ | cut -f1 | spark &amp;&amp; du -ch --max-depth=1 ~&#39;</span>
alias dfh<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;df -h&#39;</span>

<span style=color:#75715e># system monitoring &amp; updating</span>
alias dpkgl<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;dpkg -l | grep&#34;</span>
alias psg<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;ps auxf | grep&#39;</span>
alias local_ports<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;sudo nmap -sT -O localhost&#39;</span>
alias traffic<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;sudo tcpdump -i wlan0 -n -s0 -e&#34;</span>
alias adga<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;adg &amp;&amp; sudo npm update -g &amp;&amp; antigen update &amp;&amp; vundle-update &amp;&amp; rvm use 2.0.0@global &amp;&amp; gemup &amp;&amp; gem cleanup &amp;&amp; cabal-upgrade&#34;</span>
alias acr<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>aac &amp;&amp; sudo </span>$apt_pref<span style=color:#e6db74> -y autoremove</span><span style=color:#e6db74>&#34;</span>
alias aps<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;apt-cache search&#34;</span>
alias apsw<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;apt-cache show&#34;</span>

<span style=color:#75715e># Ruby</span>
alias b<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bundle exec&#39;</span>
alias bi<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bundle install&#39;</span>
alias br<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bundle exec rake&#39;</span>
alias birb<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bundle exec irb&#39;</span>
alias lr<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;rake -T&#39;</span>
alias tests<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bundle exec rake test&#39;</span>
alias gemi<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gem install --no-rdoc --no-ri&#39;</span>
alias geml<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gem list&#39;</span>
alias gemla<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gem list -a&#39;</span>
alias gemun<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gem uninstall&#39;</span>
compdef _gem_installed gemun<span style=color:#f92672>=</span>installed_gems
alias gemup<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gem update --no-rdoc --no-ri&#39;</span>
compdef _gem_installed gemup<span style=color:#f92672>=</span>installed_gems

<span style=color:#75715e># Node</span>
alias npmi<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;npm install --save&#39;</span>
alias npml<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;npm list&#39;</span>
alias npmla<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;npm list --global&#39;</span>
alias npms<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;npm search&#39;</span>
alias npmsw<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;npm show&#39;</span>
alias npmup<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;npm update&#39;</span>
alias npmun<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;npm uninstall --save&#39;</span>
alias bower<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;noglob bower&#39;</span>
alias bowi<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bower install --save&#39;</span>
alias bowl<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bower list&#39;</span>
alias bows<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bower search&#39;</span>
alias bowsw<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bower info&#39;</span>
alias bowup<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bower update&#39;</span>
alias bowun<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bower uninstall --save&#39;</span>
compdef _bower_installed_packages bowun
alias nw<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;~/sites/desktop/node-webkit/nw&#39;</span>

<span style=color:#75715e># Environmental Establishment</span>
alias cli<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;cd ~/Insync/caseykuhlman@watershedlegal.com/A.Clients&#34;</span>
alias clear!<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;cd ~/ &amp;&amp; source .zshrc &amp;&amp; clear&#34;</span>
alias reload!<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;source ~/.zshrc &amp;&amp; cd .. &amp;&amp; cd -&#34;</span>

<span style=color:#75715e># Command Line Tools</span>
alias decrypter<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ghostscript -q -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sOutputFile=unencrypted.pdf -c .setpdfwrite -f&#34;</span>
alias subl<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/home/coda/.bin/sublime&#34;</span>
alias lt<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/opt/LightTable/LightTable&#34;</span>
</code></pre></div><p>One thing which should be mentioned is the difference between functions and aliases. There is a subtle difference between the two. Basically an alias is like a contraction. It is just a shorthand thing for a specific other command. So there is not much you can do with it AFTER the alias. If you need to pass the function a variable (like a file or a folder or a switch) then you should use a function. If you do not need to pass a variable of any time then you can use aliases if you are not trying to do something terribly complex. If there are a lot of steps to what you are trying to accomplish then a function is usually the better way to go even if it does not require any variables. Those are my two cents, am sure others may feel differently.</p><p>And that is it. Type a few commands, copy and paste some files and you'll be good to go with a dynamic, fast, and totally beautiful and useable shell at the push of a button.</p><p>Happy Hacking!</p><p>~ # ~</p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://caseykuhlman.com/tags/linux>linux</a></span><span class=tag><a href=https://caseykuhlman.com/tags/shell>shell</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"/><line x1="1.05" y1="12" x2="7" y2="12"/><line x1="17.01" y1="12" x2="22.96" y2="12"/></svg><a href=https://github.com/compleatang/site/commit/1c665bae0623eb29aad4055082dca65d528f0f87 target=_blank rel=noopener>1c665ba</a> @ 2020-04-10</p></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2020</span>
<span><a href=https://caseykuhlman.com/>Casey Kuhlman</a></span>
<span>All Content Licensed CC BY-NC-SA 4.0</span>
<span><a href=https://caseykuhlman.com/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div><div class=footer__inner><div class=footer__content><span>Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>Made with &#10084; by <a href=https://github.com/rhazdon>Djordje Atlialp</a></span></div></div></footer></div><script type=text/javascript src=/bundle.min.2d5469329143160ae2456a69c3c76dc2d0a3b212b46afe291a51bd68650ed6f8697e001dab54f1c272c77ce08092a8c55e5bb4314e0ee334aab4b927ec896638.js integrity="sha512-LVRpMpFDFgriRWppw8dtwtCjshK0av4pGlG9aGUO1vhpfgAdq1TxwnLHfOCAkqjFXlu0MU4O4zSqtLkn7IlmOA=="></script><script src=//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js></script><script src=//static.getclicky.com/js></script><script src=/js/udb.js></script></body></html>